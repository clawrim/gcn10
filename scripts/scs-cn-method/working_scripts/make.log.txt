cc -Wall -Werror -O3 -fopenmp `gdal-config --cflags` -c rasterio.c
rasterio.c:11:3: error: conflicting types for ‘Raster’; have ‘struct <anonymous>’
   11 | } Raster;
      |   ^~~~~~
In file included from rasterio.c:2:
header.h:11:3: note: previous declaration of ‘Raster’ with type ‘Raster’
   11 | } Raster;
      |   ^~~~~~
rasterio.c:13:9: error: conflicting types for ‘allocate_raster’; have ‘Raster *(int,  int,  double)’
   13 | Raster *allocate_raster(int nrows, int ncols, double no_data_value) {
      |         ^~~~~~~~~~~~~~~
header.h:13:9: note: previous declaration of ‘allocate_raster’ with type ‘Raster *(int,  int,  double)’
   13 | Raster *allocate_raster(int nrows, int ncols, double no_data_value);
      |         ^~~~~~~~~~~~~~~
rasterio.c: In function ‘allocate_raster’:
rasterio.c:16:25: error: missing terminating " character [-Werror]
   16 |         fprintf(stderr, "Error allocating memory for raster structure
      |                         ^
rasterio.c:16:25: error: missing terminating " character
   16 |         fprintf(stderr, "Error allocating memory for raster structure
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:17:1: error: missing terminating " character [-Werror]
   17 | ");
      | ^
rasterio.c:17:1: error: missing terminating " character
   17 | ");
      | ^~~
rasterio.c:18:9: error: expected expression before ‘return’
   18 |         return NULL;
      |         ^~~~~~
rasterio.c:18:21: error: expected ‘;’ before ‘}’ token
   18 |         return NULL;
      |                     ^
      |                     ;
   19 |     }
      |     ~                
rasterio.c:25:25: error: missing terminating " character [-Werror]
   25 |         fprintf(stderr, "Error allocating memory for raster data
      |                         ^
rasterio.c:25:25: error: missing terminating " character
   25 |         fprintf(stderr, "Error allocating memory for raster data
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:26:1: error: missing terminating " character [-Werror]
   26 | ");
      | ^
rasterio.c:26:1: error: missing terminating " character
   26 | ");
      | ^~~
rasterio.c:27:19: error: expected ‘)’ before ‘;’ token
   27 |         free(rast);
      |                   ^
      |                   )
rasterio.c:25:16: note: to match this ‘(’
   25 |         fprintf(stderr, "Error allocating memory for raster data
      |                ^
rasterio.c:27:9: error: invalid use of void expression
   27 |         free(rast);
      |         ^~~~~~~~~~
rasterio.c:28:21: error: expected ‘;’ before ‘}’ token
   28 |         return NULL;
      |                     ^
      |                     ;
   29 |     }
      |     ~                
rasterio.c: At top level:
rasterio.c:33:6: error: conflicting types for ‘free_raster’; have ‘void(Raster *)’
   33 | void free_raster(Raster *rast) {
      |      ^~~~~~~~~~~
header.h:14:6: note: previous declaration of ‘free_raster’ with type ‘void(Raster *)’
   14 | void free_raster(Raster *rast);
      |      ^~~~~~~~~~~
rasterio.c: In function ‘get_raster_metadata’:
rasterio.c:44:25: error: missing terminating " character [-Werror]
   44 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                         ^
rasterio.c:44:25: error: missing terminating " character
   44 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:45:1: error: missing terminating " character [-Werror]
   45 | ", filename);
      | ^
rasterio.c:45:1: error: missing terminating " character
   45 | ", filename);
      | ^~~~~~~~~~~~~
rasterio.c:46:27: error: expected ‘)’ before ‘;’ token
   46 |         exit(EXIT_FAILURE);
      |                           ^
      |                           )
rasterio.c:44:16: note: to match this ‘(’
   44 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                ^
rasterio.c:46:9: error: invalid use of void expression
   46 |         exit(EXIT_FAILURE);
      |         ^~~~~~~~~~~~~~~~~~
rasterio.c:46:28: error: expected ‘;’ before ‘}’ token
   46 |         exit(EXIT_FAILURE);
      |                            ^
      |                            ;
   47 |     }
      |     ~                       
rasterio.c: At top level:
rasterio.c:56:9: error: conflicting types for ‘read_raster’; have ‘Raster *(const char *)’
   56 | Raster *read_raster(const char *filename) {
      |         ^~~~~~~~~~~
header.h:16:9: note: previous declaration of ‘read_raster’ with type ‘Raster *(const char *)’
   16 | Raster *read_raster(const char *filename);
      |         ^~~~~~~~~~~
rasterio.c: In function ‘read_raster’:
rasterio.c:68:25: error: missing terminating " character [-Werror]
   68 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                         ^
rasterio.c:68:25: error: missing terminating " character
   68 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:69:1: error: missing terminating " character [-Werror]
   69 | ", filename);
      | ^
rasterio.c:69:1: error: missing terminating " character
   69 | ", filename);
      | ^~~~~~~~~~~~~
rasterio.c:70:26: error: expected ‘)’ before ‘;’ token
   70 |         free_raster(rast);
      |                          ^
      |                          )
rasterio.c:68:16: note: to match this ‘(’
   68 |         fprintf(stderr, "Error: Unable to open raster file %s
      |                ^
rasterio.c:70:9: error: invalid use of void expression
   70 |         free_raster(rast);
      |         ^~~~~~~~~~~~~~~~~
rasterio.c:71:28: error: expected ‘;’ before ‘}’ token
   71 |         exit(EXIT_FAILURE);
      |                            ^
      |                            ;
   72 |     }
      |     ~                       
rasterio.c:82:29: error: missing terminating " character [-Werror]
   82 |             fprintf(stderr, "Error reading row %d from %s
      |                             ^
rasterio.c:82:29: error: missing terminating " character
   82 |             fprintf(stderr, "Error reading row %d from %s
      |                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:83:1: error: missing terminating " character [-Werror]
   83 | ", row, filename);
      | ^
rasterio.c:83:1: error: missing terminating " character
   83 | ", row, filename);
      | ^~~~~~~~~~~~~~~~~~
rasterio.c:84:22: error: expected ‘)’ before ‘;’ token
   84 |             error = 1;
      |                      ^
      |                      )
rasterio.c:82:20: note: to match this ‘(’
   82 |             fprintf(stderr, "Error reading row %d from %s
      |                    ^
rasterio.c:84:19: error: passing argument 2 of ‘fprintf’ makes pointer from integer without a cast [-Werror=int-conversion]
   84 |             error = 1;
      |             ~~~~~~^~~
      |                   |
      |                   int
In file included from /usr/include/cpl_port.h:130,
                 from /usr/include/gdal.h:45,
                 from header.h:5:
/usr/include/stdio.h:356:44: note: expected ‘const char * restrict’ but argument is of type ‘int’
  356 |                     const char *__restrict __format, ...);
      |                     ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
rasterio.c:84:23: error: expected ‘;’ before ‘}’ token
   84 |             error = 1;
      |                       ^
      |                       ;
   85 |         }
      |         ~              
rasterio.c: At top level:
rasterio.c:96:6: error: conflicting types for ‘calculate_runoff’; have ‘void(const Raster *, const Raster *, Raster *)’
   96 | void calculate_runoff(const Raster *rainfall, const Raster *curve_number, Raster *runoff) {
      |      ^~~~~~~~~~~~~~~~
header.h:17:6: note: previous declaration of ‘calculate_runoff’ with type ‘void(const Raster *, const Raster *, Raster *)’
   17 | void calculate_runoff(const Raster *rainfall, const Raster *curve_number, Raster *runoff);
      |      ^~~~~~~~~~~~~~~~
rasterio.c:115:6: error: conflicting types for ‘write_raster’; have ‘void(const char *, const Raster *, const char *)’
  115 | void write_raster(const char *filename, const Raster *rast, const char *ref_filename) {
      |      ^~~~~~~~~~~~
header.h:18:6: note: previous declaration of ‘write_raster’ with type ‘void(const char *, const Raster *, const char *)’
   18 | void write_raster(const char *filename, const Raster *rast, const char *ref_filename);
      |      ^~~~~~~~~~~~
rasterio.c: In function ‘write_raster’:
rasterio.c:119:25: error: missing terminating " character [-Werror]
  119 |         fprintf(stderr, "Error: Unable to open reference raster file %s
      |                         ^
rasterio.c:119:25: error: missing terminating " character
  119 |         fprintf(stderr, "Error: Unable to open reference raster file %s
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:120:1: error: missing terminating " character [-Werror]
  120 | ", ref_filename);
      | ^
rasterio.c:120:1: error: missing terminating " character
  120 | ", ref_filename);
      | ^~~~~~~~~~~~~~~~~
rasterio.c:121:27: error: expected ‘)’ before ‘;’ token
  121 |         exit(EXIT_FAILURE);
      |                           ^
      |                           )
rasterio.c:119:16: note: to match this ‘(’
  119 |         fprintf(stderr, "Error: Unable to open reference raster file %s
      |                ^
rasterio.c:121:9: error: invalid use of void expression
  121 |         exit(EXIT_FAILURE);
      |         ^~~~~~~~~~~~~~~~~~
rasterio.c:121:28: error: expected ‘;’ before ‘}’ token
  121 |         exit(EXIT_FAILURE);
      |                            ^
      |                            ;
  122 |     }
      |     ~                       
rasterio.c:127:25: error: missing terminating " character [-Werror]
  127 |         fprintf(stderr, "Error: Unable to create output raster file %s
      |                         ^
rasterio.c:127:25: error: missing terminating " character
  127 |         fprintf(stderr, "Error: Unable to create output raster file %s
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:128:1: error: missing terminating " character [-Werror]
  128 | ", filename);
      | ^
rasterio.c:128:1: error: missing terminating " character
  128 | ", filename);
      | ^~~~~~~~~~~~~
rasterio.c:129:31: error: expected ‘)’ before ‘;’ token
  129 |         GDALClose(ref_dataset);
      |                               ^
      |                               )
rasterio.c:127:16: note: to match this ‘(’
  127 |         fprintf(stderr, "Error: Unable to create output raster file %s
      |                ^
rasterio.c:129:9: error: incompatible type for argument 2 of ‘fprintf’
  129 |         GDALClose(ref_dataset);
      |         ^~~~~~~~~~~~~~~~~~~~~~
      |         |
      |         CPLErr
/usr/include/stdio.h:356:44: note: expected ‘const char * restrict’ but argument is of type ‘CPLErr’
  356 |                     const char *__restrict __format, ...);
      |                     ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
rasterio.c:130:28: error: expected ‘;’ before ‘}’ token
  130 |         exit(EXIT_FAILURE);
      |                            ^
      |                            ;
  131 |     }
      |     ~                       
rasterio.c:145:29: error: missing terminating " character [-Werror]
  145 |             fprintf(stderr, "Error writing row %d to %s
      |                             ^
rasterio.c:145:29: error: missing terminating " character
  145 |             fprintf(stderr, "Error writing row %d to %s
      |                             ^~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:146:1: error: missing terminating " character [-Werror]
  146 | ", row, filename);
      | ^
rasterio.c:146:1: error: missing terminating " character
  146 | ", row, filename);
      | ^~~~~~~~~~~~~~~~~~
rasterio.c:147:22: error: expected ‘)’ before ‘;’ token
  147 |             error = 1;
      |                      ^
      |                      )
rasterio.c:145:20: note: to match this ‘(’
  145 |             fprintf(stderr, "Error writing row %d to %s
      |                    ^
rasterio.c:147:19: error: passing argument 2 of ‘fprintf’ makes pointer from integer without a cast [-Werror=int-conversion]
  147 |             error = 1;
      |             ~~~~~~^~~
      |                   |
      |                   int
/usr/include/stdio.h:356:44: note: expected ‘const char * restrict’ but argument is of type ‘int’
  356 |                     const char *__restrict __format, ...);
      |                     ~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~
rasterio.c:147:23: error: expected ‘;’ before ‘}’ token
  147 |             error = 1;
      |                       ^
      |                       ;
  148 |         }
      |         ~              
rasterio.c:154:25: error: missing terminating " character [-Werror]
  154 |         fprintf(stderr, "Error occurred while writing raster
      |                         ^
rasterio.c:154:25: error: missing terminating " character
  154 |         fprintf(stderr, "Error occurred while writing raster
      |                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
rasterio.c:155:1: error: missing terminating " character [-Werror]
  155 | ");
      | ^
rasterio.c:155:1: error: missing terminating " character
  155 | ");
      | ^~~
rasterio.c:156:27: error: expected ‘)’ before ‘;’ token
  156 |         exit(EXIT_FAILURE);
      |                           ^
      |                           )
rasterio.c:154:16: note: to match this ‘(’
  154 |         fprintf(stderr, "Error occurred while writing raster
      |                ^
rasterio.c:156:9: error: invalid use of void expression
  156 |         exit(EXIT_FAILURE);
      |         ^~~~~~~~~~~~~~~~~~
rasterio.c:156:28: error: expected ‘;’ before ‘}’ token
  156 |         exit(EXIT_FAILURE);
      |                            ^
      |                            ;
  157 |     }
      |     ~                       
cc1: all warnings being treated as errors
make: *** [Makefile:30: rasterio.o] Error 1
